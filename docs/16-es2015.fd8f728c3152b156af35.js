(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{L6id:function(t,e,l){"use strict";l.r(e);var n=l("8Y7J");class i{}var o=l("pMnS"),s=l("MKJQ"),a=l("sZkV"),r=l("SVse"),u=l("s7LF"),c=l("mrSG"),h=l("tBOM");const d=[{elementType:"geometry",stylers:[{color:"#ebe3cd"}]},{elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#523735"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f1e6"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#c9b2a6"}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]},{featureType:"administrative.land_parcel",elementType:"geometry.stroke",stylers:[{color:"#dcd2be"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#ae9e90"}]},{featureType:"administrative.neighborhood",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#93817c"}]},{featureType:"poi.business",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#a5b076"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#447530"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#f5f1e6"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#fdfcf8"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f8c967"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#e9bc62"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.highway.controlled_access",elementType:"geometry",stylers:[{color:"#e98d58"}]},{featureType:"road.highway.controlled_access",elementType:"geometry.stroke",stylers:[{color:"#db8555"}]},{featureType:"road.highway.controlled_access",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#806b63"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"transit.line",elementType:"labels.text.fill",stylers:[{color:"#8f7d77"}]},{featureType:"transit.line",elementType:"labels.text.stroke",stylers:[{color:"#ebe3cd"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#dfd2ae"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b9d3c2"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#92998d"}]}];var p=l("83FV"),b=l("jgPM"),g=l("cp0P"),m=l("iAfV"),f=l("bHWb"),y=l("ydKN"),T=l("kL6T"),A=l("gTw3");class M{constructor(t,e,l,n,i,o,s,a,r){this.toastCtrl=t,this.platform=e,this.events=l,this.appData=n,this.router=i,this.zone=o,this.loadingController=s,this.modalController=a,this.geolocation=r,this.buildings=[],this.filters=[],this.parkingMarkerOpts=[],this.parkingMarkerFlag=!0,this.dataFlag=!1,this.toastFlagFilter=!1,this.toastFlagLocation=!1,this.pressFlag=!1,this.search=!1,this.itemAvailable=!1,this.filteredItems=[],this.toSearch=[],this.about={},this.settings={},this.locationNumber=1,this.mylocationEnabled=!1,this.mylocationFlag=!1,this.geoOptions={maximumAge:4e3,timeout:5e3,enableHighAccuracy:!0},this.pressUpLocation=!1,console.log("in constructor"),this.buildMap()}ionViewWillEnter(){return c.a(this,void 0,void 0,(function*(){try{this.closeEverything()}catch(t){}}))}ngOnInit(){return c.a(this,void 0,void 0,(function*(){console.log("inside ngoninit")}))}buildMap(){return c.a(this,void 0,void 0,(function*(){var t=[];t.push(this.appData.getOneLineData("SETTINGS")),t.push(this.appData.getBuildingFilterNames(!0,"home")),t.push(this.appData.getOneLineData("ABOUT")),Object(g.a)(t).subscribe(t=>c.a(this,void 0,void 0,(function*(){this.parseSettings(t[0]).then(()=>{this.parseBuildingFilterNames(t[1])}),this.parseAbout(t[2])}))),this.loading=yield this.loadingController.create({spinner:"bubbles",duration:500*this.filters.length,message:"Fetching Data...",translucent:!0,backdropDismiss:!1}),this.platform.ready().then(()=>{this.htmlInfoWindow=new h.d}),this.setToastFlags()}))}parseSettings(t){return c.a(this,void 0,void 0,(function*(){return yield new Promise((e,l)=>{try{this.settings=t;var n=[];for(let t=1;t<=this.settings.LOCATIONS;t++){var i={lat:parseFloat(this.settings["LATITUDE "+t]),lng:parseFloat(this.settings["LONGITUDE "+t])};n.push(i),delete this.settings["LATITUDE "+t],delete this.settings["LONGITUDE "+t]}this.settings.LOCATIONS=n,this.settings.ZOOM=parseFloat(this.settings.ZOOM),this.settings.MIN_ZOOM=parseFloat(this.settings.MIN_ZOOM),this.settings.MAX_ZOOM=parseFloat(this.settings.MAX_ZOOM),e()}catch(o){console.log(o),l()}})}))}parseBuildingFilterNames(t){return c.a(this,void 0,void 0,(function*(){this.buildings=t[0],this.filters=t[1],yield this.loadMap(),this.map.on(h.c.MAP_CLICK).subscribe(t=>{console.log("map click"),this.closeEverything()}),this.addBuildings(),this.appData.getAllFilterData(!0).then(t=>{this.filters=t;var e=[];for(let l=0;l<this.filters.length;l++)e.push(this.createFilterMarkers(this.filters[l]));Object(g.a)(e).subscribe(t=>{for(let l=0;l<this.filters.length;l++)this.map.addEventListener(this.filters[l].FILTER_NAME).subscribe(()=>c.a(this,void 0,void 0,(function*(){this.toastFlagFilter||(this.createToast("TIP","Hold the filter icon to see a list of all filters","light"),this.toastFlagFilter=!0);for(let t=0;t<this.filters[l].MARKER_DATA.length;t++)this.filters[l].MARKER_DATA[t].MARKER?this.filters[l].MARKER_DATA[t].MARKER.setVisible(this.filters[l].ACTIVE):this.toggleClusterMarker(this.filters[l].MARKER_DATA[t],this.filters[l].ACTIVE)})));this.dataFlag=!0;try{this.loading.dismiss()}catch(e){console.log("not needed: "+e)}console.log("added all markers and listeners")})});for(let t=0;t<this.filters.length;t++)yield this.events.subscribe(this.filters[t].FILTER_NAME,e=>{this.filters[t].ACTIVE=e.ACTIVE,this.dataFlag?this.changeStatus(this.filters[t].FILTER_NAME):(console.log("U GOTTA WAIT"),this.loading.present().then(()=>{this.loading.onWillDismiss().then(()=>{this.changeStatus(this.filters[t].FILTER_NAME)})}))})}))}parseAbout(t){this.about=t;var e=[],l=[];for(let n=1;n<=this.about.NUM_GOALS;n++)e.push(this.about["GOAL TITLE "+n]),l.push(this.about["GOAL DESCRIPTION "+n]);this.about.IMAGE?"data"==this.about.IMAGE.slice(0,3)||"http"==this.about.IMAGE.slice(0,3)||this.about.IMAGE.includes("www")||this.about.IMAGE.includes(".edu")||(this.about.IMAGE="assets/images/"+this.about.IMAGE):this.about.IMAGE="assets/images/campus.jpg",this.about["GOAL TITLES"]=e,this.about["GOAL DESCRIPTIONS"]=l}loadMap(){let t=[];t=d,this.map=h.b.create("map_canvas",{camera:{target:this.settings.LOCATIONS[0],zoom:this.settings.ZOOM,tilt:0},gestures:{scroll:!0,tilt:!0,rotate:!1,zoom:!0},styles:t,preferences:{zoom:{minZoom:this.settings.MIN_ZOOM,maxZoom:this.settings.MAX_ZOOM}}}),this.map.setIndoorEnabled(!0),this.map.setMyLocationEnabled(!1),this.map.setMyLocationButtonEnabled(!1)}setToastFlags(){this.appData.getUpdatedToastTips("Filter").then(t=>{this.toastFlagFilter=t}),this.appData.getUpdatedToastTips("Location").then(t=>{this.toastFlagLocation=t})}animateCamera(t,e){return c.a(this,void 0,void 0,(function*(){console.log("animating camera"),this.map.animateCamera({target:{lat:t,lng:e},zoom:17,tilt:0,duration:1e4})}))}handleLocationChange(){this.animateCamera(this.settings.LOCATIONS[this.locationNumber].lat,this.settings.LOCATIONS[this.locationNumber].lng).then(()=>c.a(this,void 0,void 0,(function*(){this.locationNumber+=1,this.locationNumber==this.settings.LOCATIONS.length&&(this.locationNumber=0),this.toastFlagLocation||(this.createToast("TIP","Click some filters on the top right to see what's available here in the area!","light"),this.toastFlagLocation=!0)})))}addBuildings(){return c.a(this,void 0,void 0,(function*(){for(let n=0;n<this.buildings.length;n++){const i=this.buildings[n];this.buildings[n].ICONS=[];var t=[];for(let e=1;e<=i.NUM_COORDINATES;e++)t.push({lat:i["LATITUDE "+e],lng:i["LONGITUDE "+e]});this.buildings[n].COORS=t;var e="#eaf0ff",l="#537ed0";"TRUE"==i.PARKING.toUpperCase()&&(e="#808080",l="#454545");let o=this.map.addPolygonSync({points:this.buildings[n].COORS,strokeColor:l,fillColor:e,strokeWidth:5,zIndex:1,clickable:!0});if("TRUE"==i.PARKING){o.setClickable(!1);let t={position:new h.e(this.buildings[n].COORS).getCenter(),icon:{url:"assets/icon/parking.png",size:{width:30,height:30}},flat:!0,visible:!0,disableAutoPan:!0,zIndex:2,name:i.FULL_NAME,des:i.DESCRIPTION};this.parkingMarkerOpts.push(t)}o.on(h.c.POLYGON_CLICK).subscribe(t=>{o.setClickable("FALSE"==i.PARKING.toUpperCase());let e=document.createElement("div");e.innerHTML='\n          <div class="infoWindow ion-text-nowrap">\n          '+i.FULL_NAME+"\n          </div>",i.LEED_CERTIFICATION&&"TRUE"!=i.PARKING&&i.SHORTENED_NAME&&(e.innerHTML='\n            <div class="infoWindow ion-text-nowrap">\n            '+i.SHORTENED_NAME+"\n            </div>"),e.getElementsByClassName("infoWindow")[0].addEventListener("click",()=>{this.goToPage(i)}),this.htmlInfoWindow.setContent(e,{"text-align":"center",height:"5vh",width:"auto",padding:"0px",margin:"-5px","margin-top":"1vh"});let l=this.map.addMarkerSync({position:new h.e(this.buildings[n].COORS).getCenter(),visible:!1,zIndex:0});this.htmlInfoWindow.open(l)}),this.buildings[n].POLYGON=o,this.toSearch.push(this.buildings[n])}this.parkingMarkerClusterOpts={markers:this.parkingMarkerOpts,icons:[{min:3,max:200,url:"assets/icon/parking.png",label:{bold:!0,fontSize:32,color:"black"}}],boundsDraw:!1,maxZoomLevel:18},this.parkingMarkerCluster=this.map.addMarkerClusterSync(this.parkingMarkerClusterOpts),this.events.subscribe("PARKING_MARKER_CLUSTER",t=>{this.changeStatus("PARKING_MARKER_CLUSTER")}),this.map.addEventListener("PARKING_MARKER_CLUSTER").subscribe(()=>{this.parkingMarkerFlag=!this.parkingMarkerFlag,this.parkingMarkerFlag?(this.parkingMarkerCluster=this.map.addMarkerClusterSync(this.parkingMarkerClusterOpts),this.openParkingMarkerCluster()):this.parkingMarkerCluster.remove()}),this.openParkingMarkerCluster()}))}openParkingMarkerCluster(){this.parkingMarkerCluster.on(h.c.MARKER_CLICK).subscribe(t=>{let e=t[1],l=document.createElement("div");l.innerHTML='\n        <div class="ion-text-wrap">\n        <p>'+e.get("name")+"</p>";for(let n=0;n<e.get("des").length;n++)l.innerHTML+="<small>"+e.get("des")[n]+"</small>";l.innerHTML+="</div>",this.htmlInfoWindow.setContent(l,{"text-align":"center",height:"auto",width:"auto",padding:"0px",margin:"-5px"}),this.htmlInfoWindow.open(e)})}dismissActiveToast(){return c.a(this,void 0,void 0,(function*(){try{yield this.toast.dismiss()}catch(t){}}))}createToast(t,e,l){return c.a(this,void 0,void 0,(function*(){yield this.dismissActiveToast(),this.toast=yield this.toastCtrl.create({header:t,message:e,position:"bottom",translucent:"light"==l,keyboardClose:!0,color:l,duration:5e3,buttons:[{side:"end",role:"cancel",icon:"checkmark-outline",handler:()=>{console.log("cancel clicked"),this.toast.dismiss()}}]}),yield this.toast.present()}))}createMyLocation(t,e,l){this.mylocationMarker=this.map.addMarkerSync({position:{lat:t,lng:e},title:"You are here!",animation:"DROP"}),this.mylocationMarker.on(h.c.MARKER_CLICK).subscribe(t=>{console.log("marker click"),this.mylocationMarker.showInfoWindow()}),this.mylocationCircle=this.map.addCircleSync({center:this.mylocationMarker.getPosition(),radius:Math.abs(20-l),fillColor:"green",strokeWidth:1})}updateMyLocation(t,e,l){try{this.mylocationMarker.setPosition({lat:t,lng:e}),this.mylocationCircle.setCenter(this.mylocationMarker.getPosition()),this.mylocationCircle.setRadius(Math.abs(20-l))}catch(n){console.log(n),this.createMyLocation(t,e,l)}}toggleMyLocation(){return c.a(this,void 0,void 0,(function*(){this.mylocationEnabled?(this.createToast("Sucessfully turned OFF Location Service","Hit the location (World) button to turn on location service again or hold for more options.","tertiary"),this.mylocationEnabled=!1,this.mylocationMarker.setVisible(!1),this.mylocationCircle.setVisible(!1),this.watch.unsubscribe()):(yield this.createToast("Loading","Retrieving location...","warning"),this.geolocation.getCurrentPosition(this.geoOptions).then(t=>c.a(this,void 0,void 0,(function*(){yield this.createToast("Sucessfully turned ON Location Service","Hit the location (World) button to turn off location service. Hold the button for more options.","success"),this.mylocationFlag?(this.mylocationMarker.setVisible(!0),this.mylocationCircle.setVisible(!0),this.updateMyLocation(t.coords.latitude,t.coords.longitude,t.coords.accuracy)):(this.createMyLocation(t.coords.latitude,t.coords.longitude,t.coords.accuracy),this.mylocationFlag=!0),this.animateCamera(t.coords.latitude,t.coords.longitude),this.mylocationMarker.showInfoWindow(),this.mylocationEnabled=!0,this.watch=this.geolocation.watchPosition(this.geoOptions).subscribe(t=>{try{this.updateMyLocation(t.coords.latitude,t.coords.longitude,t.coords.accuracy)}catch(e){this.createToast("Error in Retrieving Location","You may have disabled location on the device. Error message: "+e.message,"danger"),this.mylocationEnabled=!1}})}))).catch(t=>{this.createToast("Error in Retrieving Location","You may have disabled location on the device. Error message: "+t.message,"danger"),this.mylocationEnabled=!1}))}))}addIconToBuilding(t,e){return c.a(this,void 0,void 0,(function*(){const l=this.buildings.findIndex(t=>t.BUILDING_ID===e);this.buildings[l].ICONS.push(t)}))}createHtmlInfoWindow(t){return c.a(this,void 0,void 0,(function*(){this.closeEverything();let e=document.createElement("div");e.innerHTML='\n      <div class="markerInfoWindow">\n        <h5>'+t.get("TITLE")+"</h5>\n        <p><small>"+t.get("DESCRIPTION")+"<small></p>\n      </div>\n      ",this.htmlInfoWindow.setContent(e,{"text-align":"center","min-height":"20vh","min-width":"45vw",padding:"0px",margin:"-1vw"}),this.htmlInfoWindow.open(t)}))}toggleClusterMarker(t,e){return c.a(this,void 0,void 0,(function*(){e?t.MARKER_CLUSTER||(t.MARKER_CLUSTER=this.map.addMarkerClusterSync(t.MARKER_CLUSTER_OPTIONS),t.MARKER_CLUSTER.on(h.c.MARKER_CLICK).subscribe(t=>{this.createHtmlInfoWindow(t[1])})):(t.MARKER_CLUSTER.remove(),delete t.MARKER_CLUSTER)}))}createClusterMarkerOptions(t){return c.a(this,void 0,void 0,(function*(){let e;e={markers:t.MARKER_OPTIONS,icons:[{min:3,max:200,url:t.ICON.url,label:{bold:!0,fontSize:32,color:"#24f42f"}}],boundsDraw:!1,maxZoomLevel:18},t.MARKER_CLUSTER_OPTIONS=e}))}createFilterMarkers(t){return c.a(this,void 0,void 0,(function*(){return yield new Promise((e,l)=>{t.MARKER_DATA=[];for(let s=0;s<t.DATA.length;s++){t.DATA[s].ICON="data"==t.DATA[s].ICON.slice(0,3)?t.DATA[s].ICON:t.DATA[s].ICON?"assets/icon/"+t.DATA[s].ICON+".png":"assets/icon/favicon_cluster.png";var n={url:t.DATA[s].ICON,size:{width:35,height:35}};0!=parseInt(t.DATA[s].BUILDING_ID)&&this.addIconToBuilding(t.DATA[s].ICON,t.DATA[s].BUILDING_ID);var i={position:{lat:t.DATA[s].LATITUDE,lng:t.DATA[s].LONGITUDE},icon:n,visible:!1,zIndex:2,disableAutoPan:!0,TITLE:t.DATA[s].TITLE,DESCRIPTION:t.DATA[s].DESCRIPTION};if(0!=t.MARKER_DATA.length&&t.MARKER_DATA[t.MARKER_DATA.length-1].ICON.url==t.DATA[s].ICON)t.MARKER_DATA[t.MARKER_DATA.length-1].MARKER_OPTIONS[0].visible=!0,i.visible=!0,t.MARKER_DATA[t.MARKER_DATA.length-1].MARKER_OPTIONS.push(i);else{var o={};o.TITLE=t.DATA[s].TITLE,o.DESCRIPTION=t.DATA[s].DESCRIPTION,o.ICON=n,o.MARKER_OPTIONS=[i],t.MARKER_DATA.push(o)}}for(let s=0;s<t.MARKER_DATA.length;s++)t.MARKER_DATA[s].MARKER_OPTIONS.length>1?this.createClusterMarkerOptions(t.MARKER_DATA[s]):(t.MARKER_DATA[s].MARKER=this.map.addMarkerSync(t.MARKER_DATA[s].MARKER_OPTIONS[0]),t.MARKER_DATA[s].MARKER.on(h.c.MARKER_CLICK).subscribe(()=>{this.createHtmlInfoWindow(t.MARKER_DATA[s].MARKER)})),this.toSearch.unshift(t.MARKER_DATA[s]);e(t)})}))}changeStatus(t){this.map.trigger(t)}goToPage(t){return c.a(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:m.a,componentProps:{building:t},swipeToClose:!0,cssClass:"my-modal"});e.onDidDismiss().then(t=>{}),this.closeEverything(),yield e.present()}))}stop_close(t){try{t.preventDefault()}catch(e){}try{t.stopPropagation()}catch(e){}return!1}publishEvent(t,e){this.events.publish(t,e)}onPress(t,e=!0){console.log("press"),this.pressFlag=!0,setTimeout(()=>{this.pressFlag&&(e?this.openFilterModal(t):console.log("mylocation hold"),this.pressFlag=!1)},500)}openFilterModal(t){return c.a(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:f.a,componentProps:{filter:t},swipeToClose:!0,cssClass:"filter-modal"});e.onDidDismiss().then(t=>{try{t.data.redirect&&this.goToItem(t.data.markerDataItem)}catch(e){}}),this.closeEverything(),yield e.present()}))}getItems(t){this.filteredItems=[];const e=t.target.value;if(e&&""!=e.trim()){this.itemAvailable=!0;for(let t=0;t<this.toSearch.length;t++){const l=this.toSearch[t];((l.FULL_NAME+"").toUpperCase().search(e.toUpperCase())>-1||(l.TITLE+"").toUpperCase().search(e.toUpperCase())>-1||l.DESCRIPTION.toUpperCase().search(e.toUpperCase())>-1||(l.SHORTENED_NAME+"").toUpperCase().search(e.toUpperCase())>-1)&&this.filteredItems.push(l)}}else this.itemAvailable=!1}goToItem(t){var e;t.MARKER?(e=t.MARKER.getPosition(),t.MARKER.setVisible(!0),t.MARKER.trigger(h.c.MARKER_CLICK,e)):t.POLYGON?(e=new h.e(t.COORS).getCenter(),t.POLYGON.trigger(h.c.POLYGON_CLICK,e)):t.MARKER_CLUSTER_OPTIONS&&(e=t.MARKER_OPTIONS[0].position,t.MARKER_CLUSTER||this.toggleClusterMarker(t,!0)),this.animateCamera(e.lat,e.lng)}openAboutModal(){return c.a(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:T.a,componentProps:{about:this.about},swipeToClose:!0,cssClass:"about-modal"});t.onDidDismiss().then(t=>{}),this.closeEverything(),yield t.present()}))}openBuildingListModal(){return c.a(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:y.a,componentProps:{buildings:this.buildings},swipeToClose:!0,cssClass:"filter-modal"});t.onDidDismiss().then(t=>{try{if(!t.data.redirect){const e=new h.e(t.data.building.COORS).getCenter();this.animateCamera(e.lat,e.lng),t.data.building.POLYGON.trigger(h.c.POLYGON_CLICK,e)}}catch(e){}}),this.closeEverything(),yield t.present()}))}closeEverything(){this.search=!1,this.itemAvailable=!1,this.filteredItems=[]}}var I=l("iInd"),v=n.nb({encapsulation:0,styles:[[".search[_ngcontent-%COMP%]{top:0;width:100%;height:94vh;z-index:1}.nosearch[_ngcontent-%COMP%]{top:0;width:100%;height:100vh;z-index:1}ion-icon[_ngcontent-%COMP%]{font-size:24px}.search-icon[_ngcontent-%COMP%]{width:24px;height:24px}.des[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.search-filters[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll;width:100%;max-height:40vh}ion-searchbar[_ngcontent-%COMP%]{padding:0;margin:1px;height:6vh}.about-icon[_ngcontent-%COMP%]{width:40px;height:40px;padding:5px;margin-top:2px}ion-header[_ngcontent-%COMP%]{height:6vh;z-index:5}.title[_ngcontent-%COMP%]{height:6vh;overflow:hidden}.location[_ngcontent-%COMP%]{position:absolute;bottom:3vh}.mylocation[_ngcontent-%COMP%]{top:77vh;border-radius:30px;width:6vh;height:6vh;right:1vw}.mylocation.enabled[_ngcontent-%COMP%]{background:green}.mylocation.disabled[_ngcontent-%COMP%]{background:red}"]],data:{}});function E(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,0,"img",[["class","search-icon"],["slot","end"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,n.tb(1,"",e.parent.context.$implicit.ICON.url,""))}))}function C(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,0,"img",[["class","search-icon"],["slot","end"],["src","svg/business-outline.svg"]],null,null,null,null,null))],null,null)}function R(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Gb(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.TITLE)}))}function O(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),n.Gb(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.SHORTENED_NAME)}))}function k(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,13,"ion-item",[],null,[[null,"click"]],(function(t,e,l){var n=!0,i=t.component;return"click"===e&&(i.closeEverything(),n=!1!==i.goToItem(t.context.$implicit)&&n),n}),s.P,s.p)),n.ob(1,49152,null,0,a.F,[n.h,n.k,n.x],null,null),(t()(),n.eb(16777216,null,0,1,null,E)),n.ob(3,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.eb(16777216,null,0,1,null,C)),n.ob(5,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.pb(6,0,null,0,7,"ion-label",[["slot","start"]],null,null,null,s.Q,s.s)),n.ob(7,49152,null,0,a.L,[n.h,n.k,n.x],null,null),(t()(),n.eb(16777216,null,0,1,null,R)),n.ob(9,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.eb(16777216,null,0,1,null,O)),n.ob(11,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.pb(12,0,null,0,1,"small",[["class","ion-text-nowrap des"]],null,null,null,null,null)),(t()(),n.Gb(13,null,["",""]))],(function(t,e){t(e,3,0,e.context.$implicit.ICON),t(e,5,0,!e.context.$implicit.ICON),t(e,9,0,e.context.$implicit.TITLE),t(e,11,0,!e.context.$implicit.TITLE)}),(function(t,e){t(e,13,0,e.context.$implicit.DESCRIPTION)}))}function L(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,3,"ion-list",[["class","search-filters"]],null,null,null,s.R,s.t)),n.ob(1,49152,null,0,a.M,[n.h,n.k,n.x],null,null),(t()(),n.eb(16777216,null,0,1,null,k)),n.ob(3,278528,null,0,r.i,[n.M,n.J,n.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,3,0,e.component.filteredItems)}),null)}function _(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,10,"ion-header",[["color","translucent"],["no-border",""],["no-shadow",""]],null,null,null,s.L,s.n)),n.ob(1,49152,null,0,a.z,[n.h,n.k,n.x],{translucent:[0,"translucent"]},null),(t()(),n.pb(2,0,null,0,8,"ion-toolbar",[["color","translucent"]],null,null,null,s.V,s.x)),n.ob(3,49152,null,0,a.xb,[n.h,n.k,n.x],{color:[0,"color"]},null),(t()(),n.pb(4,0,null,0,0,"img",[["class","about-icon"],["slot","start"],["src","assets/icon/favicon.png"]],null,[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.openAboutModal()&&n),n}),null,null)),(t()(),n.pb(5,0,null,0,3,"ion-searchbar",[["animated","true"],["debounce","350"],["inputmode","text"],["placeholder","Search"],["showCancelButton","always"],["type","text"]],null,[[null,"ionChange"],[null,"ionCancel"],[null,"ionBlur"]],(function(t,e,l){var i=!0,o=t.component;return"ionBlur"===e&&(i=!1!==n.Bb(t,8)._handleBlurEvent(l.target)&&i),"ionChange"===e&&(i=!1!==n.Bb(t,8)._handleInputEvent(l.target)&&i),"ionChange"===e&&(i=!1!==o.getItems(l)&&i),"ionCancel"===e&&(i=!1!==o.closeEverything()&&i),i}),s.T,s.v)),n.Db(5120,null,u.b,(function(t){return[t]}),[a.Hb]),n.ob(7,49152,null,0,a.fb,[n.h,n.k,n.x],{animated:[0,"animated"],debounce:[1,"debounce"],inputmode:[2,"inputmode"],placeholder:[3,"placeholder"],showCancelButton:[4,"showCancelButton"],type:[5,"type"]},null),n.ob(8,16384,null,0,a.Hb,[n.k],null,null),(t()(),n.eb(16777216,null,0,1,null,L)),n.ob(10,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var l=e.component;t(e,1,0,!0),t(e,3,0,"translucent"),t(e,7,0,"true","350","text","Search","always","text"),t(e,10,0,l.itemAvailable)}),null)}function x(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,e.parent.context.$implicit.ICON)}),null)}function N(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,e.parent.context.$implicit["ICON-SELECTED"])}),null)}function D(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,5,"ion-fab-button",[["class","fab-button-show"]],null,[[null,"click"],[null,"press"],[null,"pressup"]],(function(t,e,l){var n=!0,i=t.component;return"click"===e&&(i.stop_close(l),t.context.$implicit.ACTIVE=!t.context.$implicit.ACTIVE,n=!1!==i.publishEvent(t.context.$implicit.FILTER_NAME,t.context.$implicit)&&n),"press"===e&&(n=!1!==i.onPress(t.context.$implicit)&&n),"pressup"===e&&(n=!1!==i.stop_close(l)&&n),n}),s.I,s.l)),n.ob(1,49152,null,0,a.v,[n.h,n.k,n.x],null,null),(t()(),n.eb(16777216,null,0,1,null,x)),n.ob(3,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.eb(16777216,null,0,1,null,N)),n.ob(5,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,!e.context.$implicit.ACTIVE),t(e,5,0,e.context.$implicit.ACTIVE)}),null)}function S(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[["name","car-outline"]],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,"car-outline")}),null)}function w(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[["name","car"]],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,"car")}),null)}function P(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[["name","home-outline"],["slot","icon-only"]],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,"home-outline")}),null)}function K(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"ion-icon",[["name","locate-outline"],["slot","icon-only"]],null,null,null,s.M,s.o)),n.ob(1,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,"locate-outline")}),null)}function F(t){return n.Hb(0,[(t()(),n.eb(16777216,null,null,1,null,_)),n.ob(1,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.pb(2,0,null,null,43,"ion-content",[["padding",""]],null,[[null,"contextmenu"],[null,"onContextMenu"]],(function(t,e,l){var n=!0,i=t.component;return"contextmenu"===e&&(n=!1!==i.stop_close(l)&&n),"onContextMenu"===e&&(n=!1!==i.stop_close(l)&&n),n}),s.H,s.j)),n.ob(3,49152,null,0,a.s,[n.h,n.k,n.x],null,null),(t()(),n.pb(4,0,null,0,41,"div",[["id","map_canvas"]],null,null,null,null,null)),n.Db(512,null,r.q,r.r,[n.q,n.r,n.k,n.B]),n.ob(6,278528,null,0,r.h,[r.q],{ngClass:[0,"ngClass"]},null),n.Cb(7,{search:0,nosearch:1}),(t()(),n.pb(8,0,null,null,29,"ion-fab",[["horizontal","start"],["slot","fixed"],["vertical","top"]],null,null,null,s.K,s.k)),n.ob(9,49152,null,0,a.u,[n.h,n.k,n.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),n.pb(10,0,null,0,3,"ion-fab-button",[["color","success"]],null,null,null,s.I,s.l)),n.ob(11,49152,null,0,a.v,[n.h,n.k,n.x],{color:[0,"color"]},null),(t()(),n.pb(12,0,null,0,1,"ion-icon",[["name","color-filter-outline"]],null,null,null,s.M,s.o)),n.ob(13,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null),(t()(),n.pb(14,0,null,0,3,"ion-fab-list",[["side","bottom"]],null,null,null,s.J,s.m)),n.ob(15,49152,null,0,a.w,[n.h,n.k,n.x],{side:[0,"side"]},null),(t()(),n.eb(16777216,null,0,1,null,D)),n.ob(17,278528,null,0,r.i,[n.M,n.J,n.q],{ngForOf:[0,"ngForOf"]},null),(t()(),n.pb(18,0,null,0,19,"ion-fab-list",[["side","end"]],null,null,null,s.J,s.m)),n.ob(19,49152,null,0,a.w,[n.h,n.k,n.x],{side:[0,"side"]},null),(t()(),n.pb(20,0,null,0,5,"ion-fab-button",[],null,[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.changeStatus("PARKING_MARKER_CLUSTER")&&n),n}),s.I,s.l)),n.ob(21,49152,null,0,a.v,[n.h,n.k,n.x],null,null),(t()(),n.eb(16777216,null,0,1,null,S)),n.ob(23,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.eb(16777216,null,0,1,null,w)),n.ob(25,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.pb(26,0,null,0,3,"ion-fab-button",[],null,null,null,s.I,s.l)),n.ob(27,49152,null,0,a.v,[n.h,n.k,n.x],null,null),(t()(),n.pb(28,0,null,0,1,"ion-icon",[["name","business-outline"]],null,[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.openBuildingListModal()&&n),n}),s.M,s.o)),n.ob(29,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null),(t()(),n.pb(30,0,null,0,3,"ion-fab-button",[],null,null,null,s.I,s.l)),n.ob(31,49152,null,0,a.v,[n.h,n.k,n.x],null,null),(t()(),n.pb(32,0,null,0,1,"ion-icon",[["name","search-circle-outline"]],null,[[null,"click"]],(function(t,e,l){var n=!0,i=t.component;return"click"===e&&(n=0!=(i.search=!i.search)&&n),n}),s.M,s.o)),n.ob(33,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null),(t()(),n.pb(34,0,null,0,3,"ion-fab-button",[],null,null,null,s.I,s.l)),n.ob(35,49152,null,0,a.v,[n.h,n.k,n.x],null,null),(t()(),n.pb(36,0,null,0,1,"ion-icon",[["name","information-circle-outline"]],null,[[null,"click"]],(function(t,e,l){var n=!0;return"click"===e&&(n=!1!==t.component.openAboutModal()&&n),n}),s.M,s.o)),n.ob(37,49152,null,0,a.A,[n.h,n.k,n.x],{name:[0,"name"]},null),(t()(),n.pb(38,0,null,null,5,"ion-button",[["class","location"],["shape","round"]],null,[[null,"click"]],(function(t,e,l){var n=!0,i=t.component;return"click"===e&&(i.closeEverything(),n=!1!==i.handleLocationChange()&&n),n}),s.A,s.c)),n.ob(39,49152,null,0,a.i,[n.h,n.k,n.x],{shape:[0,"shape"]},null),(t()(),n.eb(16777216,null,0,1,null,P)),n.ob(41,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.eb(16777216,null,0,1,null,K)),n.ob(43,16384,null,0,r.j,[n.M,n.J],{ngIf:[0,"ngIf"]},null),(t()(),n.pb(44,0,null,null,1,"div",[["class","mylocation ion-float-right ion-justify-content-end ion-align-items-center"]],[[2,"enabled",null],[2,"disabled",null]],null,null,null,null)),(t()(),n.pb(45,0,null,null,0,"img",[["alt","my-location"],["src","assets/icon/location.png"]],null,[[null,"press"],[null,"click"]],(function(t,e,l){var n=!0,i=t.component;return"press"===e&&(n=!1!==i.onPress({},!1)&&n),"click"===e&&(n=!1!==i.toggleMyLocation()&&n),n}),null,null))],(function(t,e){var l=e.component;t(e,1,0,l.search);var n=t(e,7,0,l.search,!l.search);t(e,6,0,n),t(e,9,0,"start","top"),t(e,11,0,"success"),t(e,13,0,"color-filter-outline"),t(e,15,0,"bottom"),t(e,17,0,l.filters),t(e,19,0,"end"),t(e,23,0,!l.parkingMarkerFlag),t(e,25,0,l.parkingMarkerFlag),t(e,29,0,"business-outline"),t(e,33,0,"search-circle-outline"),t(e,37,0,"information-circle-outline"),t(e,39,0,"round"),t(e,41,0,0==l.locationNumber),t(e,43,0,0!=l.locationNumber)}),(function(t,e){var l=e.component;t(e,44,0,l.mylocationEnabled,!l.mylocationEnabled)}))}function U(t){return n.Hb(0,[(t()(),n.pb(0,0,null,null,1,"app-home",[],null,null,null,F,v)),n.ob(1,114688,null,0,M,[a.Ib,a.Fb,p.a,b.a,I.m,n.x,a.Bb,a.Db,A.a],null,null)],(function(t,e){t(e,1,0)}),null)}var z=n.lb("app-home",M,U,{},{},[]),G=l("1BGN"),H=l("DRUo"),B=l("SqqW");class W{}var j=l("0StM"),J=l("wxcU"),V=l("zmFK"),$=l("36TP"),Z=l("+wPt"),Y=l("FQ1g");l.d(e,"HomePageModuleNgFactory",(function(){return q}));var q=n.mb(i,[],(function(t){return n.yb([n.zb(512,n.j,n.X,[[8,[o.a,z,G.a,H.a,B.a]],[3,n.j],n.v]),n.zb(4608,r.l,r.k,[n.s,[2,r.t]]),n.zb(4608,u.d,u.d,[]),n.zb(4608,a.a,a.a,[n.x,n.g]),n.zb(4608,a.Db,a.Db,[a.a,n.j,n.p]),n.zb(4608,a.Gb,a.Gb,[a.a,n.j,n.p]),n.zb(1073742336,r.b,r.b,[]),n.zb(1073742336,u.c,u.c,[]),n.zb(1073742336,u.a,u.a,[]),n.zb(1073742336,a.zb,a.zb,[]),n.zb(1073742336,I.n,I.n,[[2,I.s],[2,I.m]]),n.zb(1073742336,W,W,[]),n.zb(1073742336,j.a,j.a,[]),n.zb(1073742336,J.a,J.a,[]),n.zb(1073742336,V.a,V.a,[]),n.zb(1073742336,$.a,$.a,[]),n.zb(1073742336,Z.a,Z.a,[]),n.zb(1073742336,Y.a,Y.a,[]),n.zb(1073742336,i,i,[]),n.zb(1024,I.k,(function(){return[[{path:"",component:M}],[{path:"",component:m.a}],[{path:"",component:f.a}],[{path:"",component:T.a}]]}),[])])}))}}]);